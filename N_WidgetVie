<!-- original : https://codepen.io/SeanNorton/pen/LWBXQL -->
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Language" content="fr">
    <meta name="google" content="notranslate">
    <title>Widget Notion</title>

    <style>
.progress-container {   /* la boîte grise arrondie qui sert de cadre */
  width: 50%;           /* largeur de la barre (ici 50% de la largeur du parent) */
  background: #eee;     /* couleur de fond du conteneur (gris clair) */
  border-radius: 10px;  /* arrondit les coins du conteneur */
  overflow: hidden;     /* coupe ce qui dépasse (important pour garder les coins arrondis) */
  height: 30px;         /* hauteur totale de la barre */
}

.progress-bar {            /*la partie colorée qui grandit en largeur en fonction du pourcentage */
  height: 100%;            /* occupe toute la hauteur du conteneur */
  background: #4caf50;     /* couleur de la barre de progression (vert) */
  text-align: center;      /* centre le texte horizontalement à l’intérieur */
  line-height: 30px;       /* décale le texte verticalement au milieu (égale à la hauteur) */
  color: white;            /* couleur du texte en blanc pour contraster avec le vert */
  font-weight: bold;       /* rend le texte en gras */
  width: 0%;               /* largeur initiale (sera mise à jour en JavaScript selon % de progression) */
}


#mois-valeur {
  margin-top: 8px;     /* petit espace au-dessus pour éviter que ça colle */
  font-size: 14px;     /* taille du texte */
  color: #333;         /* couleur gris foncé, lisible sur fond clair */
}

    </style>
</head>
<body><div>Ecriture d'une valeur en % dans, et à coté, de la barre </div>
<div class="progress-container">
  <div class="progress-bar" id="mois-bar">
    <span id="mois-texte"></span>
  </div>
</div>
<div><span id="mois-valeur"></span></div>
    
<script>
function progressionMois() {
                              let today = new Date();
                              let totalJours = new Date(today.getFullYear(), today.getMonth() + 1, 0).getDate(); 
                              let pourcentage = (today.getDate() / totalJours) * 100;
                              let MoisLong = today.toLocaleDateString('fr-FR', { month: 'long' });
                              let bar = document.getElementById("mois-bar");
                              bar.style.width = pourcentage + "%";
                              document.getElementById("mois-texte").innerText = 
                                      `${Math.round(pourcentage)} % de ${MoisLong}`;
                             document.getElementById("mois-valeur").innerText =                                   
                                    `Le ${today.getDate()}, on est à ${Math.round(pourcentage)}% du mois de ${MoisLong}`;
                            }
progressionMois();
</script>
