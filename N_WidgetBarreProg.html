<!-- original : https://codepen.io/SeanNorton/pen/LWBXQL -->
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Language" content="fr">
    <meta name="google" content="notranslate">
    <title>Barre de prog</title>
    <link rel="stylesheet" href="style.css">

</head>
<body>

<div>Définition d'une valeur en % et rappel dans un script pour la modifier (70=>30) */ </div>
<div>
    <label for="File">File progress:<br></label>
    <progress id="File" max="100" value="70">70%</progress>
</div>

<script>
function FonctProgressionMois1() {
                // Récupérer la barre
                      let Barre = document.getElementById("File");
                // Exemple : mettre la valeur à 30
                      Barre.value = 30;
                             }
FonctProgressionMois1();
</script>
<br>

<div>Définition d'une valeur en % en fonction d'une valeur qui se modifie regulièrement (chaque jour) </div>
<div><progress id="Mois" max="100" value="0"></progress></div>
<div><span id="Mois-Valeur2"></span></div>

<script>
function FonctProgressionMois2() {
                            let AujourDHui = new Date();
                            let TotalJours = new Date(AujourDHui.getFullYear(), AujourDHui.getMonth()+1, 0).getDate();  
                            let Pourcentage = (AujourDHui.getDate() / TotalJours) * 100;
                    // Obtenir le mois en toutes lettres (français)
                            let MoisLong = AujourDHui.toLocaleDateString("fr-FR", { month: 'long' });
                    // Mettre à jour la barre
                            document.getElementById("Mois").value = Pourcentage;
                    // Afficher Pourcentage arrondi à côté
                            document.getElementById("Mois-Valeur2").innerText = 
                    //Entourer la chaîne avec des backticks ` `, pour eviter le + à repetition et utiliser les template string
                                    `Le ${AujourDHui.getDate()}, on est à ${Math.round(Pourcentage)}% du mois de ${MoisLong}`;
                            }

FonctProgressionMois2();
</script>
<br>
    
<div>Ecriture d'une valeur en % dans, et à coté, de la barre </div>
<div class="Progress_Container">
  <div class="Progress_Barre" id="Mois-Barre">
    <span id="Mois-Texte"></span>
  </div>
</div>
<div><span id="Mois-Valeur3"></span></div>
    
<script>
function FonctProgressionMois3() {
                              let AujourDHui = new Date();
                              let TotalJours = new Date(AujourDHui.getFullYear(), AujourDHui.getMonth() + 1, 0).getDate(); 
                              let Pourcentage = (AujourDHui.getDate() / TotalJours) * 100;
                              let MoisLong = AujourDHui.toLocaleDateString('fr-FR', { month: 'long' });
                              let Barre = document.getElementById("Mois-Barre");
                              Barre.style.width = Pourcentage + "%";
                              document.getElementById("Mois-Texte").innerText = 
                                      `${Math.round(Pourcentage)} % de ${MoisLong}`;
                              document.getElementById("Mois-Valeur3").innerText = 
                                    `Le ${AujourDHui.getDate()}, on est à ${Math.round(Pourcentage)}% du mois de ${MoisLong}`;
                    // TEST avec alert
                              alert(`Le ${AujourDHui.getDate()}, on est à ${Math.round(Pourcentage)}% du mois de ${MoisLong}`);
                            }
FonctProgressionMois3()
</script>
    
</body>
</html>
